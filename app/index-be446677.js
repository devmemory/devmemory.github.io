var F=Object.defineProperty;var A=(t,i,s)=>i in t?F(t,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[i]=s;var T=(t,i,s)=>(A(t,typeof i!="symbol"?i+"":i,s),s);import{h as H,E as B,j as e,r as p}from"./index-fb0c871d.js";import{a as C,b as f,c as I}from"./loading.module-5c5771ed.js";import{B as U,C as P,a as V,L as k,P as d,I as N}from"./useLocaleStore-b9143cae.js";import{u as y}from"./useLocaleValue-c0191178.js";import{A as M,P as D}from"./index-6e615195.js";import{p as E}from"./commonUtil-978beb59.js";import W from"./index-5be8488d.js";const q=()=>({converToImg:async s=>{var r;const c=document.createElement("style");document.head.appendChild(c),(r=c.sheet)==null||r.insertRule("body > div:last-child img { display: inline-block; }");const o=await H(s,{scale:1.2});return c.remove(),o.toDataURL("image/png",1)},converToPdf:s=>{const c=new B("p","mm","a4",!0),o=c.internal.pageSize.getWidth(),a=c.internal.pageSize.getHeight();c.addImage(s,"PNG",0,0,o,a);const r=c.output("bloburl");E.browserInfo()===U.safari?window.location.href=`${r}`:window.open(r)}}),z=()=>e.jsxs("footer",{className:C.footer,children:[e.jsx("p",{children:"Devmemory"}),e.jsx("div",{children:P.map((t,i)=>e.jsx("div",{className:C.div_circle,children:e.jsx("img",{src:t.logo,onClick:()=>window.open(t.path)})},`footer_btn_${i}`))})]});class G extends M{constructor(s){super();T(this,"lang");this.lang=s}async getBasicInfo(){return(await super.get(`/assets/data/${this.lang}/basic.json`)).data}async getSkill(){return(await super.get(`/assets/data/${this.lang}/skill.json`)).data}async getExperience(){return(await super.get(`/assets/data/${this.lang}/experience.json`)).data}async getProject(){return(await super.get(`/assets/data/${this.lang}/project.json`)).data}}const J=()=>{const{langCode:t,setLocale:i}=V(),[s,c]=p.useState(),[o,a]=p.useState(!1);p.useEffect(()=>{r(t)},[t]);const r=async l=>{a(!0);try{const v=new G(l),n=await v.getBasicInfo(),_=await v.getSkill(),u=await v.getExperience(),g=await v.getProject();c({basicInfo:n,skillList:_,experienceList:u,projectList:g})}catch{}finally{a(!1)}};return{toggleLang:()=>{const l=t===k.en?k.kr:k.en;i(l)},portfolio:s,langCode:t,showLoading:o,setShowLoading:a}},K=({langCode:t,activeIdx:i,shadow:s,toggleLang:c,moveTo:o})=>{const{getText:a}=y(),r=a("portfolio.nav");return e.jsxs("header",{className:s?`${f.head_nav} ${f.nav_shadow}`:f.head_nav,children:[r.map((x,l)=>e.jsx("button",{className:i===l?`${f.btn_nav} ${f.active_nav}`:f.btn_nav,onClick:()=>o(l),children:x},`btn_${x}`)),e.jsx("button",{onClick:c,children:t.toUpperCase()})]})},Q=()=>e.jsx("div",{className:I.div_white_bg,children:e.jsx("div",{className:I.div_loading})}),X=()=>{const t=p.useRef([]),[i,s]=p.useState(0),[c,o]=p.useState(!1),a=p.useRef(!1),r=l=>{t.current[l].scrollIntoView({behavior:"smooth"})},x=l=>{if(t.current.length<Object.keys(d).length||a.current)return;a.current=!0,E.delay(50).then(()=>{a.current=!1});const v=20,n=l.currentTarget.scrollTop+v,_=t.current,u=_[d.project].offsetTop+_[d.project].scrollHeight/2-150;n<_[d.skill].offsetTop&&i!==d.main?(c&&o(!1),s(d.main)):n>=_[d.skill].offsetTop&&n<_[d.experience].offsetTop&&i!==d.skill?(c||o(!0),s(d.skill)):n>=_[d.experience].offsetTop&&n<_[d.project].offsetTop&&i!==d.experience?s(d.experience):n>=_[d.project].offsetTop&&n<u&&i!==d.project?s(d.project):n>=u&&i!==d.etc&&s(d.etc)};return{refList:t.current,moveTo:r,onScroll:x,activeIdx:i,shadow:c}},Y="_div_education_1amcq_2",Z="_div_name_1amcq_17",S={div_education:Y,div_name:Z},ee=({etcInfoList:t,refList:i})=>e.jsx("div",{ref:s=>i[d.etc]=s,className:S.div_education,children:t==null?void 0:t.map(s=>e.jsxs("div",{children:[e.jsx("h2",{children:s.title}),e.jsxs("div",{children:[e.jsxs("div",{className:S.div_name,children:[e.jsx("strong",{children:s.name}),e.jsx("img",{src:"/assets/icon/link.svg",onClick:()=>window.open(s.link)})]}),e.jsx("p",{children:s.date})]}),e.jsx("p",{children:s.summary})]},s.title))}),se="_div_experience_1ngul_2",te="_div_company_circle_1ngul_22",ie="_div_selected_1ngul_39",ne="_div_exp_time_1ngul_58",ce="_div_project_icon_1ngul_63",re="_div_project_1ngul_63",oe="_div_project_info_1ngul_85",ae="_div_env_1ngul_90",le="_div_desc_1ngul_105",de="_div_explanation_1ngul_124",_e="_div_divider_1ngul_131",m={div_experience:se,div_company_circle:te,div_selected:ie,div_exp_time:ne,div_project_icon:ce,div_project:re,div_project_info:oe,div_env:ae,div_desc:le,div_explanation:de,div_divider:_e},ve=({experienceList:t=[],refList:i})=>{var l,v;const{getText:s,getDate:c}=y(),[o,a]=p.useState(0);let r=t[o];const x=n=>{switch(n){case N.web:return"/assets/icon/web.svg";case N.android:return"/assets/icon/playstore.svg";case N.ios:return"/assets/icon/appstore.svg"}};return r===void 0?e.jsx("div",{}):e.jsxs("div",{ref:n=>i[d.experience]=n,className:m.div_experience,children:[e.jsx("div",{children:t.map((n,_)=>{var u;return e.jsxs("div",{className:m.div_company_circle,title:n.company,style:{backgroundColor:n.pointColor},onClick:()=>a(_),children:[(u=n.company)==null?void 0:u.charAt(0),o===_&&e.jsx("div",{className:m.div_selected})]},`logo_${_}`)})}),e.jsxs("div",{children:[e.jsx("h2",{children:r.company}),e.jsxs("div",{className:m.div_exp_time,children:[s("portfolio.employment_period")," : ",r.startDate," -"," ",r.endDate," (",c(r.startDate,r.endDate),")"]}),e.jsx("div",{className:m.div_project_icon,children:(l=r.linkList)==null?void 0:l.map((n,_)=>e.jsx("img",{src:x(n.icon),onClick:()=>window.open(n.link)},`${r.company}_${_}`))}),e.jsx("div",{className:m.div_divider}),e.jsx("div",{children:(v=r.projects)==null?void 0:v.map(n=>{var _,u;return e.jsxs("div",{className:m.div_project,children:[e.jsxs("div",{children:[e.jsx("h3",{children:n.name}),e.jsx("p",{children:n.summary}),e.jsxs("div",{className:m.div_project_info,children:[s("portfolio.team_member")," : ",n.member,e.jsx("br",{}),s("portfolio.my_position")," : ",n.position]}),n.period!==void 0&&e.jsxs("p",{children:[s("portfolio.project_period")," : ",n.period]}),e.jsxs("div",{className:m.div_env,children:[e.jsx("p",{children:s("portfolio.dev_env")}),(_=n.environment)==null?void 0:_.map((g,h)=>e.jsxs("div",{children:["- ",g]},`${n.name}_env_${h}`))]})]}),e.jsx("div",{className:m.div_divider}),e.jsx("div",{className:m.div_desc,children:(u=n.descList)==null?void 0:u.map((g,h)=>{var L;return e.jsxs("div",{children:[h+1,". ",g.title,g.explanation!==void 0&&e.jsx("div",{children:(L=g.explanation)==null?void 0:L.map((R,O)=>e.jsxs("div",{className:m.div_explanation,children:["- ",R]},`${n.name}_exp_${h}${O}`))})]},`${n.name}_desc_${h}`)})})]},`${n.name}`)})})]},r.company)]})},xe="_div_intro_53awr_2",me="_div_textbox_53awr_16",ue="_div_intro_left_text_53awr_21",pe="_div_intro_info_53awr_33",ge="_div_contact_img_53awr_55",je="_div_intro_right_53awr_72",he="_button_resume_53awr_79",j={div_intro:xe,div_textbox:me,div_intro_left_text:ue,div_intro_info:pe,div_contact_img:ge,div_intro_right:je,button_resume:he},fe=({portfolio:t,refList:i,setShowLoading:s})=>{var r,x,l,v;const{getText:c}=y(),o=p.useRef(null),a=async()=>{if(s(!0),o.current===null){alert(`err : ${o.current} = null`),s(!1);return}const n=q(),_=await n.converToImg(o.current);n.converToPdf(_),s(!1)};return e.jsxs(e.Fragment,{children:[e.jsxs("div",{ref:n=>i[d.main]=n,className:j.div_intro,children:[e.jsx("div",{children:e.jsxs("div",{className:j.div_textbox,children:[e.jsxs("div",{className:j.div_intro_left_text,children:[c("portfolio.greeting"),e.jsx("br",{}),e.jsx("div",{dangerouslySetInnerHTML:{__html:c("portfolio.im",`<strong>${((r=t==null?void 0:t.basicInfo)==null?void 0:r.name)??""}</strong>`)}}),(x=t==null?void 0:t.basicInfo)==null?void 0:x.position]}),e.jsx("br",{}),e.jsxs("div",{className:j.div_intro_info,children:[e.jsxs("div",{children:[e.jsx("img",{src:"/assets/icon/location.svg"}),(l=t==null?void 0:t.basicInfo)==null?void 0:l.location]}),e.jsxs("div",{children:[e.jsx("img",{src:"/assets/icon/bullet.svg"}),(v=t==null?void 0:t.basicInfo)==null?void 0:v.status]})]}),e.jsx("div",{className:j.div_contact_img,children:P.map((n,_)=>e.jsx("img",{src:n.logo,onClick:()=>window.open(n.path)},`contact_${_}`))}),e.jsx("button",{className:j.button_resume,onClick:a,children:c("portfolio.resume")})]})}),e.jsx("div",{className:j.div_intro_right,children:e.jsx("img",{src:"/assets/img/intro/developer.png"})})]}),t&&e.jsx(W,{ref:o,portfolio:t})]})},ye="_div_personal_project_mul9t_2",we="_div_card_mul9t_11",be="_div_desc_mul9t_82",ke="_ul_summary_mul9t_86",Ne="_div_project_mul9t_104",w={div_personal_project:ye,div_card:we,div_desc:be,ul_summary:ke,div_project:Ne},$e=({projectList:t=[],refList:i})=>{const{getDate:s}=y();return e.jsx("div",{ref:c=>i[d.project]=c,className:w.div_personal_project,children:t.map(c=>{var o;return e.jsxs("div",{className:w.div_card,style:{"--bg":`url(${c.bg})`},children:[e.jsx("div",{}),e.jsx("h2",{children:c.title}),e.jsxs("div",{children:[e.jsxs("p",{children:[c.startDate," - ",c.endDate," (",s(c.startDate,c.endDate),")"]}),e.jsx("img",{src:"/assets/icon/link.svg",onClick:()=>window.open(c.link)}),e.jsxs("div",{className:w.div_desc,children:[e.jsx("p",{children:c.summary}),e.jsx("ul",{className:w.ul_summary,children:(o=c.desc)==null?void 0:o.map((a,r)=>e.jsx("li",{children:a},`${c.title}_li_${r}`))})]})]})]},c.title)})})},Le="_div_overlay_5ryt3_1",Te="_img_logo_5ryt3_14",Ce="_LogoHor_5ryt3_1",Ie="_div_close_text_5ryt3_23",Se="_div_content_5ryt3_33",Pe="_LogoVert_5ryt3_1",b={div_overlay:Le,img_logo:Te,LogoHor:Ce,div_close_text:Ie,div_content:Se,LogoVert:Pe},De=({top:t,left:i,model:s,closePopup:c})=>{const{getText:o}=y();return e.jsx(D,{closePopup:c,withStyle:!1,children:e.jsxs("div",{className:b.div_overlay,onClick:c,children:[e.jsx("img",{className:b.img_logo,src:s==null?void 0:s.img,style:{"--top":`${t}px`,"--left":`${i}px`}}),e.jsx("div",{className:b.div_close_text,children:o("portfolio.close_popup")}),e.jsxs("div",{className:b.div_content,children:[e.jsx("h2",{children:s==null?void 0:s.title}),e.jsxs("div",{children:[s==null?void 0:s.desc,(s==null?void 0:s.link)&&e.jsx("img",{src:"/assets/icon/link.svg",onClick:()=>window.open(s==null?void 0:s.link)})]})]})]})})},Ee="_div_skill_12nuj_2",Re="_div_skill_container_12nuj_18",Oe="_div_skillbox_12nuj_37",$={div_skill:Ee,div_skill_container:Re,div_skillbox:Oe},Fe=({skillList:t=[],refList:i})=>{const[s,c]=p.useState({state:!1}),o=(r,x)=>{const l=r.currentTarget.getBoundingClientRect(),v=l.top,n=l.left;c({state:!0,left:n,top:v,model:x})},a=()=>{c({state:!1})};return e.jsxs(e.Fragment,{children:[e.jsx("div",{ref:r=>i[d.skill]=r,className:$.div_skill,children:e.jsx("div",{children:t.map(r=>{var x;return e.jsxs("div",{className:$.div_skill_container,children:[e.jsx("p",{children:r.title}),(x=r.list)==null?void 0:x.map(l=>e.jsxs("div",{className:$.div_skillbox,children:[e.jsx("div",{onClick:v=>o(v,l),children:e.jsx("img",{src:l.img})}),l.title]},l.title))]},r.title)})})}),s.state&&e.jsx(De,{...s,closePopup:a})]})},Ae="_div_portfolio_o4mst_1",He={div_portfolio:Ae},Je=()=>{var n;const{toggleLang:t,portfolio:i,langCode:s,showLoading:c,setShowLoading:o}=J(),{refList:a,moveTo:r,onScroll:x,activeIdx:l,shadow:v}=X();return e.jsxs("div",{className:He.div_portfolio,onScroll:x,children:[e.jsx(K,{langCode:s,toggleLang:t,moveTo:r,activeIdx:l,shadow:v}),e.jsx(fe,{refList:a,portfolio:i,setShowLoading:o}),e.jsx(Fe,{refList:a,skillList:i==null?void 0:i.skillList}),e.jsx(ve,{refList:a,experienceList:i==null?void 0:i.experienceList}),e.jsx($e,{refList:a,projectList:i==null?void 0:i.projectList}),e.jsx(ee,{refList:a,etcInfoList:(n=i==null?void 0:i.basicInfo)==null?void 0:n.etcInfoList}),e.jsx(z,{}),c&&e.jsx(D,{withStyle:!1,children:e.jsx(Q,{})})]})};export{Je as default};
